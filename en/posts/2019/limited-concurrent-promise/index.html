<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>An Implementation for Limited-concurrency Promise Runner - Matt's Home</title><script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script><meta name=description content><meta property="og:title" content="An Implementation for Limited-concurrency Promise Runner"><meta property="og:description" content="Introduction When you call Promise.prototype.all(), there is no approach to controlling the number of concurrent promise tasks. This can cause a large usage of OS resources if the number of the tasks array is really large. There are some excellent packages aiming to solve this problem. For example, p-limit. p-limit"><meta property="og:type" content="article"><meta property="og:url" content="https://yuqingc.github.io/en/posts/2019/limited-concurrent-promise/"><meta property="article:published_time" content="2019-06-23T12:22:37+08:00"><meta property="article:modified_time" content="2019-06-23T12:22:37+08:00"><meta property="og:site_name" content="Matt's Home"><meta name=twitter:card content="summary"><meta name=twitter:title content="An Implementation for Limited-concurrency Promise Runner"><meta name=twitter:description content="Introduction When you call Promise.prototype.all(), there is no approach to controlling the number of concurrent promise tasks. This can cause a large usage of OS resources if the number of the tasks array is really large. There are some excellent packages aiming to solve this problem. For example, p-limit. p-limit"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel="shortcut icon" href=/favicon.ico><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?9476c4482071e4a786f624283467fed0";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class="logo logo--mixed"><a class=logo__link href=/en/ title="Matt's Home" rel=home><div class="logo__item logo__imagebox"><img class=logo__img src=/images/avatar.png></div><div class="logo__item logo__text"><div class=logo__title>Matt's Home</div><div class=logo__tagline>I might be coding right now... 🔨</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/en/about/aboutsite/><span class=menu__text>About</span></a></li><li class=menu__item><a class=menu__link href=/en/about/aboutme/><span class=menu__text>About Me</span></a></li><li class=menu__item><a class=menu__link href=https://github.com/yuqingc/yuqingc.github.io><span class=menu__text>Edit This Page</span></a></li><li class=menu__item><a class=menu__link href=https://github.com/yuqingc/yuqingc.github.io/issues><span class=menu__text>Feedback</span></a></li><li class=menu__item><a class=menu__link href=/zh-cn><span class=menu__text>简体中文</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>An Implementation for Limited-concurrency Promise Runner</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2019-06-23T12:22:37+08:00>June 23, 2019</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=/en/categories/posts/ rel=category>posts</a></span></div></div></header><div class="post__toc toc"><div class=toc__title>Page content</div><div class=toc__menu><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#an-infinite-loop-watching-the-size-of-the-running-queue>An infinite loop watching the size of the running queue</a><ul><li><a href=#design-philosophy>Design Philosophy</a></li><li><a href=#talk-is-cheap-show-me-the-code>&ldquo;Talk is cheap. Show me the code&rdquo;</a></li><li><a href=#usage>Usage</a></li><li><a href=#pros--cons>Pros & Cons</a></li></ul></li><li><a href=#informing-data-changing-actively>Informing data changing actively</a><ul><li><a href=#why-i-dont-like-this->Why I don&rsquo;t like this 😒</a></li></ul></li></ul></nav></div></div><div class="content post__content clearfix"><h2 id=introduction>Introduction</h2><p>When you call <code>Promise.prototype.all()</code>, there is no approach to controlling the number of concurrent promise tasks. This can cause a large usage of OS resources if the number of the tasks array is really large.</p><p>There are some excellent packages aiming to solve this problem. For example, <a href=https://www.npmjs.com/package/p-limit>p-limit</a>. <em>p-limit</em> uses an <code>activeCount</code> variable to control the current running tasks.
The implementation I am introducing for solving this issue is a little bit different.</p><h2 id=an-infinite-loop-watching-the-size-of-the-running-queue>An infinite loop watching the size of the running queue</h2><h3 id=design-philosophy>Design Philosophy</h3><ul><li>Once the size of the running queue is less than the configured limitation, we move the next task from the waiting queue to the running queue</li><li>Once any one of the running tasks fulfills, it is removed from the running queue, causing the length of the running queue to reducing by <code>1</code></li><li>The reduction of the running tasks is watching by the infinite loop mentioned above, hence a new task is pushed to the running queue</li></ul><h3 id=talk-is-cheap-show-me-the-code>&ldquo;Talk is cheap. Show me the code&rdquo;</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>sleep</span>(<span style=color:#a6e22e>n</span>) {
  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Promise(<span style=color:#a6e22e>res</span> =&gt; <span style=color:#a6e22e>setTimeout</span>(<span style=color:#a6e22e>res</span>, <span style=color:#a6e22e>n</span>))
}

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LimitPromise</span> {
  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>limit</span>) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>limit</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>limit</span>;
  }
  <span style=color:#a6e22e>async</span> <span style=color:#a6e22e>run</span>(<span style=color:#a6e22e>tasks</span>) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>time</span>(<span style=color:#e6db74>&#39;run&#39;</span>);
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>tasks</span>)) {
      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#39;Task to run must be an array&#39;</span>);
    }
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>runningQueue</span><span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>();
    <span style=color:#66d9ef>while</span>(<span style=color:#f92672>!</span>(<span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>runningQueue</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>)) {
      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>runningQueue</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>limit</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>nextTask</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>shift</span>();
        <span style=color:#a6e22e>runningQueue</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>nextTask</span>);
        <span style=color:#a6e22e>nextTask</span>().<span style=color:#a6e22e>then</span>(() =&gt; <span style=color:#a6e22e>runningQueue</span>.<span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>nextTask</span>), () =&gt; <span style=color:#a6e22e>runningQueue</span>.<span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>nextTask</span>));
      }
      <span style=color:#75715e>// JS is single threaded. Here, `sleep(0) yields the current thread to other tasks.`
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>await</span> <span style=color:#a6e22e>sleep</span>(<span style=color:#ae81ff>0</span>);
    }
    <span style=color:#75715e>// All tasks fulfill here
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>timeEnd</span>(<span style=color:#e6db74>&#39;run&#39;</span>);
  }
}
</code></pre></div><p>Note that we use <code>runningQueue</code> to store current running tasks. Using a <code>activeCount</code> for the number of running tasks is sufficient (this is what <em>p-limit</em> does) unless you want to export the running tasks to users.</p><h3 id=usage>Usage</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>my_runner</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>LimitPromise</span>(<span style=color:#ae81ff>3</span>);
<span style=color:#a6e22e>my_runner</span>.<span style=color:#a6e22e>run</span>([
  () =&gt; <span style=color:#a6e22e>fetchSomething</span>(),
  () =&gt; <span style=color:#a6e22e>fetchSomething</span>(),
  () =&gt; <span style=color:#a6e22e>fetchSomething</span>(),
  () =&gt; <span style=color:#a6e22e>fetchSomething</span>(),
  () =&gt; <span style=color:#a6e22e>fetchSomething</span>(),
]);
</code></pre></div><h3 id=pros--cons>Pros & Cons</h3><ul><li><p>Thumbs up 👍</p><ul><li>Few code</li><li>Easy to understand</li><li>Stable</li></ul></li><li><p>Thumbs down 👎</p><ul><li>Infinite loop is not a decent way to watch data&rsquo;s change, which uses a lot of CPU resource</li></ul></li></ul><h2 id=informing-data-changing-actively>Informing data changing actively</h2><p>Sometimes we don&rsquo;t want to use the infinite loop. In the following implementation, We inform our program that our running queue has changed. This is just like what <code>p-limit</code> does. Here is a snippet of demo code for this implementation.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>anotherRun</span>(<span style=color:#a6e22e>tasks</span>) {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>new</span> Promise(<span style=color:#a6e22e>res</span> =&gt; {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>_this</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>;
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>time</span>(<span style=color:#e6db74>&#39;anotherrun&#39;</span>);
      <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span>Array.<span style=color:#a6e22e>isArray</span>(<span style=color:#a6e22e>tasks</span>)) {
        <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#39;Task to run must be an array&#39;</span>);
      }
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>runningQueue</span><span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Set</span>();
      <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>onRunningQueueChange</span>() {
        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>runningQueue</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
          <span style=color:#75715e>// All tasks fulfill here
</span><span style=color:#75715e></span>          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>timeEnd</span>(<span style=color:#e6db74>&#39;anotherrun&#39;</span>);
          <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>res</span>();
        }
        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>) {
          <span style=color:#66d9ef>return</span>;
        };
        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>runningQueue</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>_this</span>.<span style=color:#a6e22e>limit</span>) {
          <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>task</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>shift</span>();
          <span style=color:#a6e22e>runningQueue</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>task</span>);
          <span style=color:#a6e22e>task</span>().<span style=color:#a6e22e>then</span>(() =&gt; {
            <span style=color:#a6e22e>runningQueue</span>.<span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>task</span>);
            <span style=color:#a6e22e>onRunningQueueChange</span>();
          });
        }
      }
      <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>i</span> <span style=color:#66d9ef>in</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>limit</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>)) {
        <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
          <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>task</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>tasks</span>.<span style=color:#a6e22e>shift</span>();
          <span style=color:#a6e22e>runningQueue</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>task</span>);
          <span style=color:#a6e22e>task</span>().<span style=color:#a6e22e>then</span>(() =&gt; {
            <span style=color:#a6e22e>runningQueue</span>.<span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>task</span>);
            <span style=color:#a6e22e>onRunningQueueChange</span>();
          });
        }
      }
    });
  }
</code></pre></div><h3 id=why-i-dont-like-this->Why I don&rsquo;t like this 😒</h3><p>Publishing the change of running queue actively saves more CPU resources than the infinite loop watching. However there are potential risks that some task is not able to inform the outside world the change of running queue, or that a new task cannot be pushed to the running queue in time due to some system error. An infinite loop keeps track of the change of all data structures in the program. (The code above is a demo which indicates how the program works. We still need to work on boundaries conditions where errors might occur)</p><hr><p><em>Authored by <a target=_blank href=https://github.com/yuqingc>@yuqingc</a> 转载请注明出处</em></p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5.0 11V3C0 1.5.8.8.8.8S1.5.0 3 0h8c1.5.0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 100-6 3 3 0 000 6z"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/en/tags/javascript/ rel=tag>javascript</a></li></ul></div></footer></article></main><div class="authorbox clearfix"><figure class=authorbox__avatar><img alt="Matt avatar" src=/images/avatar.png class=avatar height=90 width=90></figure><div class=authorbox__header><span class=authorbox__name>About Matt</span></div><div class=authorbox__description>Why you always in a mood?</div></div><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=/en/posts/2019/you-might-not-know-this/ rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>You Might Not Know "this"</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=/en/posts/2019/snippets01/ rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Useful JavaScript Snippets</p></a></div></nav><script src=https://utteranc.es/client.js repo=yuqingc/yuqingc.github.io issue-term=pathname label=comments theme=github-light crossorigin=anonymous async></script></div><aside class=sidebar><div class="widget-search widget"><form class=widget-search__form role=search method=get action=https://duckduckgo.com/><label><input class=widget-search__field type=search placeholder=SEARCH… name=q aria-label=SEARCH…></label>
<input class=widget-search__submit type=submit value=Search>
<input type=hidden name=sites value=https://yuqingc.github.io/></form></div><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/en/posts/2019/new-of-es2020/>What's New in ECMAScript 2020 (ES11)</a></li><li class=widget__item><a class=widget__link href=/en/posts/2019/data-bindings-react-vue/>Thoughts of Data Bindings Strategies in React and Vue</a></li><li class=widget__item><a class=widget__link href=/en/posts/2019/snippets01/>Useful JavaScript Snippets</a></li><li class=widget__item><a class=widget__link href=/en/posts/2019/limited-concurrent-promise/>An Implementation for Limited-concurrency Promise Runner</a></li><li class=widget__item><a class=widget__link href=/en/posts/2019/you-might-not-know-this/>You Might Not Know "this"</a></li></ul></div></div><div class="widget-taglist widget"><h4 class=widget__title>Tags</h4><div class=widget__content><a class="widget-taglist__link widget__link btn" href=/en/tags/javascript/ title=javascript>javascript (6)</a>
<a class="widget-taglist__link widget__link btn" href=/en/tags/profile/ title=profile>profile (2)</a>
<a class="widget-taglist__link widget__link btn" href=/en/tags/react/ title=react>react (3)</a>
<a class="widget-taglist__link widget__link btn" href=/en/tags/ssr/ title=ssr>ssr (1)</a>
<a class="widget-taglist__link widget__link btn" href=/en/tags/vue/ title=vue>vue (1)</a></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=/en/categories/about/>about</a></li><li class=widget__item><a class=widget__link href=/en/categories/archive/>archive</a></li><li class=widget__item><a class=widget__link href=/en/categories/posts/>posts</a></li></ul></div></div><div class="widget-social widget"><h4 class="widget-social__title widget__title">Social</h4><div class="widget-social__content widget__content"><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=GitHub rel="noopener noreferrer" href=https://github.com/yuqingc target=_blank><svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0C85.9.0.0 85.8.0 191.7c0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2.0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8.0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7.0.0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4.0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5.0 25.6-.2 46.3-.2 52.6.0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg><span>GitHub</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title=Email href=mailto:mr.chenyuqing@live.com><svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16V16 0h-16H16 0zm347 16-139 92.5L69 32zM199 157.5l9 5.5 9-5.5L384 46v210H32V46z"/></svg><span>mr.chenyuqing@live.com</span></a></div><div class="widget-social__item widget__item"><a class="widget-social__link widget__link btn" title="(゜-゜)つロ 干杯~" rel="noopener noreferrer" href=https://space.bilibili.com/76849204 target=_blank><svg t="1575645314188" class="widget-social__link-icon icon" width="24" height="24" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M777.514667 131.669333a53.333333 53.333333.0 010 75.434667L728.746667 255.829333h49.92A160 160 0 01938.666667 415.872v320a160 160 0 01-160 160H245.333333A160 160 0 0185.333333 735.872v-320a160 160 0 01160-160h49.749334L246.4 207.146667a53.333333 53.333333.0 1175.392-75.434667l113.152 113.152c3.370667 3.370667 6.186667 7.04 8.448 10.965333H580.48c2.261333-3.925333 5.12-7.68 8.490667-11.008l113.109333-113.152a53.333333 53.333333.0 0175.434667.0zm1.152 231.253334H245.333333a53.333333 53.333333.0 00-53.205333 49.365333l-.128 4.010667v320c0 28.117333 21.76 51.157333 49.365333 53.162666l3.968.170667h533.333334a53.333333 53.333333.0 0053.205333-49.365333l.128-3.968v-320c0-29.44-23.893333-53.333333-53.333333-53.333334zm-426.666667 106.666666c29.44.0 53.333333 23.893333 53.333333 53.333334v53.333333a53.333333 53.333333.0 11-106.666666.0v-53.333333c0-29.44 23.893333-53.333333 53.333333-53.333334zm320 0c29.44.0 53.333333 23.893333 53.333333 53.333334v53.333333a53.333333 53.333333.0 11-106.666666.0v-53.333333c0-29.44 23.893333-53.333333 53.333333-53.333334z"/></svg><span>(゜-゜)つロ 干杯~</span></a></div></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2021 yuqingc.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>